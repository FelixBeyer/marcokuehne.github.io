[["index.html", "Empirical Research (with R) Based On True Stories Dust and Dark", " Empirical Research (with R) Based On True Stories Marco KÃ¼hne 2021-08-26 Dust and Dark A dusty lecture hall. The light cut through the darkness from the left side of the room. A dozen of seats in each bench, only few occupied by small groups of students who were trying to make sure that they sit far from each other and as far as possible from the lecturer. The bearish but competent assistant professor explained how to analyze and evaluate the results of various memory and cognition experiments through boxplots, t-test and the like in that software. My creaky, slow but loyal laptop in front of me. Thats where R was introduced in my psychology undergraduate studies. "],["teach-learn-repeat.html", "Chapter 1 Teach  Learn  Repeat", " Chapter 1 Teach  Learn  Repeat I fell in love with learning by teaching the moment I came across this concept. It put the experiences I made into scientific context. I had to pass math classes in my undergraduates, and I became a math tutor for years. I really wanted to master ballroom dance, so I became a dance instructor for life. The mode of teaching can differ. I started teaching in the classroom and ballroom and have a standing on Wikipedia. You can contribute diffuse Wikipedia and will get feedback on your neutral point of view, academic writing and rigor. Feedback on YouTube and Social Media can be more diffuse. Now, I turn to writing a book from my collected notes (and questions) on empirical research. I hope to force myself to pinpoint exactly what I know and dont know and how to fill the gaps. Luckily, I am not alone with the approach of creating classes or writing books to learn. I could feel that econometrics was indispensable, and yet I was missing something. But what? It was a theory of causality []. So, desperate, I did what I always do when I want to learn something new  I developed a course on causality to force myself to learn all the things I didnt know. Scott Cunningham In Causal Inference  The Mixtape This project helped me to learn more about R, RStudio, R Markdown, R Bookdown, HTML/CSS, Git and Github, empirical research, causal inference, statistics, math, frustration tolerance and fun. "],["a-question-you-care-about.html", "Chapter 2 A Question You Care About 2.1 From Zero To Hero 2.2 From Artists and Economists 2.3 Data is everywhere 2.4 For the truly dedicated 2.5 Survival of the Fittest Line 2.6 On the Shoulders of Giants", " Chapter 2 A Question You Care About Are you passionate about something? Research starts off from a question you really care about. Math, statistics and programming are easier to digest when you are intrinsically motivated to find out more about your topic of interest. This is a brief guide on the main parts of the empirical research process. Theres more to the end of it. After answering the research question, a theoretical interpretation can be derived, results are compared to earlier research and conclusions are drawn. What you can learn  What is at the heart of empirical research: Questions. How to get and handle tabular data. The principles of relationships and trends. How to model relationships with equations. Estimate a relationship with Regression. The implementation in the statistical software R. 2.1 From Zero To Hero This chapter introduces the workhorse of empirical research in the social science: Regression. 2.2 From Artists and Economists Every artist was first an amateur.  Ralph Waldo Emerson (18031882), US-American essayist, lecturer, philosopher, abolitionist and poet. I speculate that the quote from Mr. Emerson is also true for social scientists. The first and most important point is to choose a topic that you really care about. This can be related to your hobbies, families or friends. Related to your education, job or neighborhood. It can be something from the present or past. It can be your pet as well as your personality, believes and attitudes. It can be gardening or Fortnite. Choose something that you are really interested in. Next, retain a neutral point of view. Collect and analyze data first, discuss and compare your results to others, conclude at the end. In this primer I selected artists, specifically famous painter. First, I search for previous research on artists: Paul Cezanne died in October 1906 at the age of 67. In time he would be generally regarded as the most influential painter who had worked in the nineteenth century (e.g., Clive Bell, 1982; Clement Greenberg, 1993). Art historians and critics would also agree that his greatest achievement was the work he did late in his life.  Galenson, D. W., &amp; Weinberg, B. A. (2001). Creating modern art: The changing careers of painters in France from impressionism to cubism. American Economic Review, 91(4), 1063-1071.AER is a famous, reliable economic journal. I wonder if there is a relationship between the age of an artist and his productivity? Do artists improve their skills and performance over an entire lifetime step-by-step such that older artists are better than younger artists since they had more time to practice? Or is there an optimum age for performance as compared to athletic performances which reaches a peak in youth? Perhaps no one can tell if and when you are kissed by a muse, so exceptional art happens randomly? Another channel could be that it requires time to become more well-known. You need time to travel and show or sell your art in different places. Thus when you produce more art you increase the chance to be discovered by the public or a patron? Have you ever heard of an artist who exactly created one piece of art? Thats a pretty good start for a research inquiry :) I raise the question: What is the relationship between the age of an artist and his productivity? A research question is  focused on a single issue, specific enough to answer thoroughly and feasible to answer within the given timeframe or practical constraints not to mention relevant to your field of study. But what exactly is productivity and how can we measure it? To keep things simple we follow the literature and measure productivity via auction prices for paintings. Thats a very economic perspective on art. Operationalization is  the process of defining the measurement of a phenomenon that is not directly measurable What is intelligence and how can we measure it? Perhaps with the intelligence quotient (IQ). Perhaps something else. 2.3 Data is everywhere Researchers use auction price data for which they have to pay. I use free information from a Wikipedia List of most expensive paintings of all time. The auction prices are inflation-adjusted by consumer price index in millions of United States dollars in 2019. Thats another interesting economic procedure, that we take for given at this analysis 2.3.1 Data in a table This is the data in datatable format (i.e. you can search and sort the data in the html document): Tabular data is common in data analysis. You can create a table in Word or Excel. 2.3.2 Data in a graph Two variables from our data table can be depicted in what is called a scatterplot. The axes are called  ordinate or y-axis (here: price) and abscicca or x-axis (here: age). 2.3.3 The trend Can you spot a trend in the data? The line plot suggests that the relationship between price and age exhibits a positive trend. There is an increase in price for older artists. The older the artist, the higher the auction prices. 2.3.4 The blackbox The mission is to find a mathematical function that describes the trend. In other words, we are looking for the black box that transforms the input into the output: A mathematical function is  an expression, rule, or law that defines a relationship between one variable (the independent variable, on the x-axis) and another variable (the dependent variable, on the y-axis). From looking at the graph, here are two suggestions: \\[ \\begin{align} \\text{price} = 80 + 0.5 \\cdot \\text{age} \\tag{Suggestion 1} \\\\ \\text{price} = 90 + 0.2 \\cdot \\text{age} \\tag{Suggestion 2} \\\\ \\end{align}\\] A linear function is  defined by two components, intercept (with the y-axis) and its slope. How can we compare the two suggested lines? Which linear function represents the relationship best? 2.3.5 Nobodys perfect We all make mistakes. So do the linear functions: \\[ \\begin{align} \\text{price} = 80 + 0.5 \\cdot \\text{age} \\tag{Suggestion 1} \\\\ 101 = 80 + 0.5 \\cdot 42 \\tag{Calculation for Hohlbein} \\\\ \\end{align}\\] The equation tells (or predicts) that for any artist at the age of 42 it expects a auction price for a painting of 101 million US Dollar. Darmstadt Madonna was sold for 85 million US dollar. The linear function overestimated the true value. When you look at the graph, you see some predictions are more accurate (close to the true values) than others. All are either above or below the line. A residual (or error) is  the vertical distance between the actual and the predicted value. 2.3.6 Vocab Wrap-Up Lets wrap up our regression vocab! We want to find an equation that describes the phenomenon of interest: \\[ \\begin{align} \\text{outcome} &amp;= f(\\text{explanatory}) + \\text{noise} \\tag{Generic statistical model} \\\\ \\text{outcome} &amp;= \\text{intercept} + \\text{slope} \\cdot \\text{explanatory} + \\text{noise} \\tag{Generic linear model} \\\\ \\end{align}\\] A regression model is suggested by the researcher. A more concrete regression model looks like this: \\[Y = \\beta_1 + \\beta_2 X + \\epsilon\\] A model can be easy or complicated. It definitely contains variables and parameters. Variables: Things that we measure (or have data). Parameters: Constant values we believe to represent some fundamental truth about the relationship between the variables. What we (i.e. the statistical software) actual do is an estimation. In textbooks the same equation can be found with hats: \\[ \\widehat{Y} = \\widehat{\\beta}_1 + \\widehat{\\beta}_2 \\cdot X \\] \\(\\widehat{Y}\\) are called the fitted or predicted values. \\(\\widehat{\\beta}\\) are regression coefficients (this is the estimate of the unknown population parameter). As we have seen in the graph before, the differences between the actual and the predicted values are the residuals \\(e = Y - \\widehat{Y}\\). 2.4 For the truly dedicated Now we have all the ingredients we need. Lets get this party started! The overall goal is to make as little as possible mistakes! What kind of mistake? The deviation from the observed values! What could come to your mind is to minimize the sum of all errors: \\[\\sum e \\rightarrow \\min\\] But wait, there is more. Is it fair to say that the sum should be small? Compare The Scream and Meules, their deviations are \\(+17.5\\) and \\(-13.6\\) (very similar). So taken these two together, theres almost not mistake! That is to say, positive and negative deviations cancel each other out. Thus we need one more twist in the story: \\[\\sum e^2 \\rightarrow \\min\\] The fitting procedure is  is called ordinary least squares (short OLS). The goal of OLS is to minimize the residual sum of squares. 2.4.1 Algebra Algebra comes from Arabic, meaning reunion of broken parts. We often work with matrices and vectors. Now lets put all the things together. By convention, the normal version of a vector is a vertical list of numbers in big parentheses (column vector). Transpose is when we change the rows and columns. In order to square a vector we need the following: \\[\\sum e^2 = e^T \\cdot e \\rightarrow \\min\\] Lets introduce matrix notation (there are 6 observations and two parameters): \\[ \\begin{align} Y &amp;= \\beta_0 + \\beta_1 X + \\epsilon \\tag{X is a variable, Y is a variable} \\\\ \\begin{pmatrix} Y_1 \\\\ Y_2 \\\\ Y_3 \\\\ Y_5 \\\\ Y_6 \\end{pmatrix} &amp;= \\begin{pmatrix} 1 &amp; X_{11} \\\\ 1 &amp; X_{12} \\\\ 1 &amp; X_{13} \\\\ 1 &amp; X_{14} \\\\ 1 &amp; X_{15} \\\\ 1 &amp; X_{16} \\end{pmatrix} \\begin{pmatrix} \\beta_1 \\\\ \\beta_2 \\end{pmatrix} + \\begin{pmatrix} \\epsilon_1 \\\\ \\epsilon_2 \\\\ \\epsilon_3 \\\\ \\epsilon_4 \\\\ \\epsilon_5 \\\\ \\epsilon_6 \\\\ \\end{pmatrix} \\\\ y &amp;= X \\beta + \\epsilon \\tag{X is a matrix, y is a vector} \\end{align}\\] The residual is \\(e = y - X \\beta\\) which we can plug in our minimal sum of squares: \\[\\begin{align} \\sum e^2 &amp;= e^T \\cdot e \\tag{short RSS}\\\\ &amp;= (y - X \\beta )^T (y - X \\beta) \\tag{$(A+B)^T = A^T + B^T$}\\\\ &amp;= (y^T - X^T \\beta^T) (y - X \\beta) \\\\ &amp;= y^T y - y^T X \\beta - X^T \\beta^T y + X^T \\beta^T X \\beta \\\\ &amp;= y^2 \\underbrace{- 2 \\beta^T X^T y}_{??} + \\beta^2 X^2 \\\\ \\end{align}\\] Did you notice what happened in the middle? The transpose of the first term is equal to the second: \\[\\begin{align} (y^T X \\beta)^T = y X^T \\beta^T \\end{align}\\] 2.4.2 Analysis In Analysis we often work with functions. Next, we are ready to optimize. Optimization (in math and economics) is done by differentiation: \\[\\begin{align} \\frac{\\partial RSS}{\\partial \\beta} &amp;= -2 X^T y + 2 \\beta X^T X = 0 \\tag{first derivative equal to zero} \\\\ 2 \\beta X^T X &amp;= 2 X^T y \\tag{rearrange terms}\\\\ \\beta X^T X &amp;= X^T y \\tag{the &quot;normal equation&quot;} \\\\ \\beta &amp;= (X^T X)^{-1} X^T y \\tag{Bam}\\\\ \\end{align}\\] 2.4.3 Take the Long Way Home The computer does the magic for us. Those \\(\\beta\\) coefficients are one of the most important regression results. Retrieve them step by step to enhance your understanding of the math and coding as the same time: First, we retrieve matrix X from the data set: X ## [,1] [,2] ## [1,] 1 91 ## [2,] 1 86 ## [3,] 1 67 ## [4,] 1 45 ## [5,] 1 80 ## [6,] 1 71 Second, the transpose of X has two rows and six columns: t(X) ## [,1] [,2] [,3] [,4] [,5] [,6] ## [1,] 1 1 1 1 1 1 ## [2,] 91 86 67 45 80 71 Next, calculate the square of the matrix (transpose times original): t(X)%*%X ## [,1] [,2] ## [1,] 6 440 ## [2,] 440 33632 Then, the inverse of everything in parentheses (the above matrix product): solve(t(X)%*%X) ## [,1] [,2] ## [1,] 4.10546875 -0.0537109375 ## [2,] -0.05371094 0.0007324219 Next, the product of this inverse and the transpose: solve(t(X)%*%X) %*% t(X) ## [,1] [,2] [,3] [,4] [,5] ## [1,] -0.78222656 -0.513671875 0.506835938 1.68847656 -0.191406250 ## [2,] 0.01293945 0.009277344 -0.004638672 -0.02075195 0.004882813 ## [,6] ## [1,] 0.291992188 ## [2,] -0.001708984 Finally, we multiply the vector \\(y\\): solve(t(X)%*%X) %*% t(X) %*% y ## [,1] ## [1,] 22.345215 ## [2,] 1.165747 There are two numbers. Its the \\(\\beta\\) vector! The first entry is the intercept and the second is the slope of the linear function: \\[Price = 22.3452 + 1.1657 \\cdot Age\\] 2.5 Survival of the Fittest Line The above equation is the linear function that best describes the given data. 2.6 On the Shoulders of Giants Fortunately, we are standing on the shoulders of giants. Clever people implemented the linear regression and all kinds of regressions and statistical tests in R. lm(Price ~ Age.at.Death, data = artists) ## ## Call: ## lm(formula = Price ~ Age.at.Death, data = artists) ## ## Coefficients: ## (Intercept) Age.at.Death ## 22.345 1.166 knitr::include_graphics(&quot;workhorse.jpg&quot;) "],["data-is-everywhere-1.html", "Chapter 3 Data is everywhere", " Chapter 3 Data is everywhere Get the data / understand your data "],["are-you-nuts.html", "Chapter 4 Are you nuts", " Chapter 4 Are you nuts One Sample T-Test "],["group-comparison.html", "Chapter 5 Group comparison 5.1 Understanding Data 5.2 Analysis (10 pt) 5.3 Advanced Graphics (4 pt bonus)", " Chapter 5 Group comparison In this exercise you learn: R Basics: Install and load a package. Load a Stata files into R. Data Manipulation: tidyverse language (glimpse, count, filter, summarise). Data Visualization: Grouped boxplots, advanced programming pictograms. How to find information on the web via Google. Groups can be compared via numeric figure or graphical instruments. Numeric summaries can be the mean, median or mode. A graphical representation can be a boxplot, histogram or density curve. Note that certain calculations and visualizations only make sense for continuous variables (cf. scale of measurements). Figure 5.1: Figure 1: Possible gender difference in working parttime. 5.1 Understanding Data 5.1.1 Loading the Data Go to https://www.diw.de/en/diw_01.c.603154.en/soep_in_the_college_classroom.html and download the Stata file soep_lebensz_en.dta. Put this file in the same directory as your R script or markdown and load data as follows (no path): # load package library(haven) ## Warning: package &#39;haven&#39; was built under R version 4.0.5 # load data #soep &lt;- read_dta(&quot;soep_lebensz_en.dta&quot;) library(haven) temp &lt;- tempfile() download.file(&quot;https://www.diw.de/documents/dokumentenarchiv/17/diw_01.c.412698.de/soep_lebensz_en.zip&quot;,temp) soep &lt;- read_dta(unz(temp, &quot;soep_lebensz_en.dta&quot;)) unlink(temp) If data is somewhere else, you need to specify the exact path (relative or absolute path) to the data. If you use haven (or any other package) for the first time, you have to install (e.g. via a command install.packages(\"haven\")). You can also install and check packages in the right lower panel (cf. packages). 5.1.2 Inspect the Data The SOEP practice dataset consists of a total of 9 original variables and 12,922 measurements. We can see 9 variables as columns with the glimpse() function. The first two variable (id, year) are identifier. The panel data is in long format, i.e. every row is a person-year combination. It covers five time points. The last two variables are standardized versions (satisfaction and health). Actually we have 5 variables to analyze. library(tidyverse) glimpse(soep) ## Rows: 12,922 ## Columns: 9 ## $ id &lt;dbl&gt; 312, 399, 399, 457, 457, 457, 748, 761, 761, 1044, 1044, 10~ ## $ year &lt;dbl&gt; 2004, 2000, 2001, 2000, 2002, 2004, 2000, 2000, 2001, 2000,~ ## $ sex &lt;dbl+lbl&gt; 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1~ ## $ education &lt;dbl&gt; NA, 12.0, 12.0, 18.0, 18.0, 18.0, 14.0, 16.0, 16.0, 14.0, 1~ ## $ no_kids &lt;dbl&gt; 1, 1, 1, 0, 0, 0, 0, 2, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 2,~ ## $ health_org &lt;dbl+lbl&gt; 4, 4, 4, 3, 3, 2, 3, 3, 3, 4, 3, 4, 4, 4, 2, 2, 2, 1, 2~ ## $ satisf_org &lt;dbl+lbl&gt; 7, 8, 9, 8, 7, 4, 5, 7, 7, 5, 7, 8, 6, 7,~ ## $ health_std &lt;dbl&gt; 0.5670103, 0.5670103, 0.5670103, -0.4639175, -0.4639175, -1~ ## $ satisf_std &lt;dbl&gt; -0.09090909, 0.47727272, 1.04545450, 0.47727272, -0.0909090~ First, lets check the consecutive time points. The count() function provides the number of occurrences for values of a variables. soep %&gt;% count(year) ## # A tibble: 5 x 2 ## year n ## &lt;dbl&gt; &lt;int&gt; ## 1 2000 3198 ## 2 2001 2690 ## 3 2002 2485 ## 4 2003 2299 ## 5 2004 2250 We observe a decline in observations over time. People drop out of the survey for various reasons (panel attrition). SOEP regularly adds refreshment samples to compensate for this. Sometimes we miss data in between years. Person number 457 participated in 2000, 2002 and 2004: soep %&gt;% filter(id == 457) ## # A tibble: 3 x 9 ## id year sex education no_kids health_org satisf_org health_std ## &lt;dbl&gt; &lt;dbl&gt; &lt;dbl+lbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl+lbl&gt; &lt;dbl+lbl&gt; &lt;dbl&gt; ## 1 457 2000 0 [male] 18 0 3 [satisfactory] 8 [8 Sati~ -0.464 ## 2 457 2002 0 [male] 18 0 3 [satisfactory] 7 [7 Sati~ -0.464 ## 3 457 2004 0 [male] 18 0 2 [poor] 4 [4 Sati~ -1.49 ## # ... with 1 more variable: satisf_std &lt;dbl&gt; Person 457 was not available in the year 2001 for some reason. 5.1.3 Summary statistics Now lets have a look at summary statistics for the dataset. The stargazer package (with type=\"text\") displays number of observations, mean, standard deviation, min, max and percentiles to the console or markdown file (it produces a .tex table by default). stargazer requires a dataframe as input. haven created a tibble from the Stata .dta file. Finally, we select all variables but the first two, since they are identifier and any calculation, e.g. the mean of personal IDs, does not make much sense here. library(stargazer) stargazer(as.data.frame(soep)[,(3:9)], type=&quot;text&quot;) ## ## ================================================================= ## Statistic N Mean St. Dev. Min Pctl(25) Pctl(75) Max ## ----------------------------------------------------------------- ## sex 12,922 0.539 0.499 0 0 1 1 ## education 11,454 11.874 2.469 7.000 10.500 13.000 18.000 ## no_kids 12,016 0.647 0.931 0.000 0.000 1.000 3.000 ## health_org 12,907 3.455 0.973 1.000 3.000 4.000 5.000 ## satisf_org 12,922 7.156 1.762 0 6 8 10 ## health_std 12,907 0.005 1.003 -2.526 -0.464 0.567 1.598 ## satisf_std 12,922 -0.002 1.001 -4.068 -0.659 0.477 1.614 ## ----------------------------------------------------------------- The mean of sex is 0.539. What does it tell you? 5.1.4 Missing data Check out the first glimpse() table. Have you noticed the value NA in education? NA stand for non available and is the indicator for missing data in R. We ask for a table count of all values in the data that are either missing or not missing. table(is.na(soep)) ## ## FALSE TRUE ## 113894 2404 One option is substituting values (e.g. the mean) for missing cells (imputation). The alternative, for simplicitiy, is removing all rows which contain a missing value in any column. This is called a complete case analysis. soep_no_na &lt;- soep %&gt;% filter(complete.cases(.)) 5.1.5 Standardization Look again at the glimpse() output or stargazer() table. Notice two versions of satisfaction and health, i.e. satisf_org and satisf_std which represent satisfaction on the original scale (from 0 to 10) and a standardized version of satisfaction. Health is ranging from 1 to 5. How can we compare the mean of satisfaction and health? In statistics, standardization is the process of putting different variables on the same scale. This process allows you to compare scores between different types of variables (compare apples with apples instead of apples with bananas). Typically, to standardize variables, you calculate the mean and standard deviation for a variable (cf. z-score). Then, for each observed value of the variable, you subtract the mean and divide by the standard deviation. Consequently, standardized variables have a mean of 0 and a standard deviation of 1. soep_no_na %&gt;% summarise(across(c(satisf_std, health_std), list(mean, sd))) %&gt;% `colnames&lt;-`(c(&quot;mean of std. satis&quot;, &quot;sd of std. satis&quot;, &quot;mean of std. health&quot;, &quot;sd of std. health&quot;)) ## # A tibble: 1 x 4 ## `mean of std. satis` `sd of std. satis` `mean of std. health` `sd of std. hea~ ## &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 0.00174 1.00 -0.0102 0.998 Here summarise is asked to apply the mean() and sd() function across the two columns satisf_std and health_std. The means are close to zero and the standard deviation is close to one. The minor differences result from our complete case analysis (we already dropped some cases which might have been used for the initial standardization). 5.2 Analysis (10 pt) Now, its your turn to find and implement R code in order to achieve the following tasks. 5.2.1 Subsample (2 pt) Create a subsample of people with no children in the household (subsetting). This should be \\(n=7428\\) observations. Call it nokids. 5.2.2 Mean per group (2 pt) Please calculate the mean of education for men and women and store the means into one or two objects (dependent on how you calculate it). You may use base R or tidyverse functions. 5.2.3 Grouped Boxplot (4 pt) Create a boxplot of years of education grouped by gender (fe/male). A boxplot is a method for graphically depicting groups of numerical data through their quartiles. It shows 50 % of the data in a box and the median in the middle of the box and whiskers outsider of the box. Replicate the following figure. You can either do this with base R or ggplot. The labels (title, subtitle, axis) should be identical. Furthermore, add the mean of the groups to the boxplot (as red bold point or something similar). The two boxplots look very similar. In both groups the mean is higher than the median. This is an indication that the distribution of education is skewed to the right. Is education a continuous variable? Not really. Actually, students usually graduate after 10 or 12 years of education in Germany. table(soep_no_na$education) ## ## 7 8.5 9 10 10.5 11 11.5 12 13 14 15 16 18 ## 175 48 994 339 2822 724 1918 988 556 509 394 327 865 5.2.4 YaRrr! The Pirates Quiz (2 pt) In chapter 9.1. workspace management functions of the bookdown (yeah, thats right, you can create entire books from inside RStudio!) YaRrr! The Pirates Guide to R you find a picture of pirate. Danger? I look on the wild side. I laugh in the face of danger! Show me the PiRate! Figure 5.2: Figure 2: Whos that boy? Hes not a random, no-name person. On the contrary, he has a wikipedia article in several languages. Who is he? 5.3 Advanced Graphics (4 pt bonus) Remember Figure 1 where we easily compared two percentage numbers filled proportionally in pictograms of men and women? How could we possibly do something like that in R? The purpose of this challenge is to train your skills in searching the internet for similar solutions and adapting code for your own needs. If you google something like How to create a grouped boxplot in r or How to create an image filled with percentage in r the chances are extremely high that first, someone else had the same problem and second, stackoverflow will be one of the top google hits. SO is a famous question and answer site for professional and enthusiast programmers and statisticians. Figure 5.3: Figure 3: The proportion of male and female students. Source: Gender and Origin of Students of Viadrina (22.11.2020) Your challenge: Find a gender difference that you are interested in and would like to share. Remember the source. Cite the source in the figure caption. Look up and modify (long and complicated) code, e.g. from stackoverflow. In the given ggplot theme_void is used to remove axes and background, the legend is removed by legend.position = \"none\" and labels are annotated manually via annotate. "],["methods.html", "Chapter 6 Methods", " Chapter 6 Methods We describe our methods in this chapter. "],["git-and-github.html", "Chapter 7 Git and Github 7.1 Install Github and Git 7.2 Working with Git 7.3 Basic Routines 7.4 Resources", " Chapter 7 Git and Github 7.1 Install Github and Git Get RStudio https://www.rstudio.com/products/rstudio/download/ Get Github account https://github.com/ Set up Github pages https://pages.github.com/ Download Git https://git-scm.com/ Create a special repository for GitHub Pages. Only this can turn the branch into docs (1 for free). Repository: https://github.com/MarcoKuehne/marcokuehne.github.io Homepage: https://marcokuehne.github.io/ Create (or re-open) your R project inside RStudio. In R console use usethis::use_git() which always gives three different answers in random order. Confirm accordingly. 7.2 Working with Git Use the terminal inside RStudio. Copy paste into terminal with: CTRL + SHIFT + V. 7.2.1 git version Lets start with commands that cannot do any harm (its 2.32 in 08/2021): git version 7.2.2 git config First, configure github user information on your system. Use the R builtin terminal: git config --global user.email MAIL git config --global user.name NAME Now, you can commit (upload) changes from RStudio to Github Pages. Check out git config --list. 7.2.3 git init Use git init to initialize the repository. It is used to create a new empty repository or directory consisting of files with the hidden directory. .git is created at the top level of your project, which places all of the revision information in one place. Show what is connected with: git remote -v show 7.2.4 git status and diff Shows you which files are in this staging area, and which files have changes that havent yet been put there. In order to compare the file as it currently is to what you last saved, you can use git diff filename, e.g. git diff README.md in the terminal. git diff without any file names will show you all the changes in your repository, while git diff directory will show you the changes to the files in some directory. 7.2.5 git commit To save the changes in the staging area, you use the command git commit. It always saves everything that is in the staging area as one unit: as you will see later, when you want to undo changes to a project, you undo all of a commit or none of it. Commit requires a message (comment). How to write a good git commit message:l https://chris.beams.io/posts/git-commit/ 7.2.6 git add  7.2.7 git remote add I would like to have something like git remote add ... and git push ..., not working. I can add and remove origins, dont know what it means: git remote rm origin Use git add . in your bash to add all the files to the given folder. Use git status in your bash to view all the files which are going to be staged to the first commit. Create git remote add git remote add origin https://github.com/MarcoKuehne/marcokuehne.github.git git remote add origin https://github.com/MarcoKuehne/marcokuehne.github.io git remote add origin https://github.com/MarcoKuehne/marcokuehne.github.io.git git remote add git@github.com:/.git git remote add git@github.com:MarcoKuehne/marcokuehne.github.git git remote add git@github.com:MarcoKuehne/marcokuehne.github.io does not appear to be a repository git remote add git@github.com:MarcoKuehne/marcokuehne.github.io.git combine both 7.2.8 git push git push -u origin main git push -u origin master git push origin master git push origin main git push set-upstream origin main git push -f origin main # worked somehow!!! If positive, it asks for github credentials. https://www.datacamp.com/community/tutorials/git-push-pull 7.3 Basic Routines 7.3.1 Add + Commit + Push I make changes to any one of my markdown files, e.g. the README.md (this can also be done via GitHub web interface) on my local machine. After notoriously saving this on my local machine (STRG+S) it appears in the stage area in the right upper panel in RStudio. Commit and push can be either done in RStudio or via terminal line (also in RStudio). First, lets do it via clicking. Select the staged file. Click commit. A new windows opens and displays the changes in your file. Write a new commit message of amend a previous commit. Click close. From this additional window (or the right upper panel in RStudio) click the green push arrow. Hopefully it will say HEAD -&gt; main. Close. Done. The result should be available on your github repository immediately. The same procedure via the terminal: git add 05-git.Rmd git commit -m &quot;Updated the git short tutorial&quot; git push How to push? Easy  I need to pull these changes into RStudio. Check the right upper panel Diff. Select pull. You can also find big blue down and green up arrows. I add this sentence. I save on RStudio, thus it appears as a change to README.md in the Git panel. I select this file and green up arrow (push). I enter my credentials and close (see https://docs.github.com/en/get-started/getting-started-with-git/why-is-git-always-asking-for-my-password). Here you might use a personal access token. I click commit, enter a commit message, click commit again and close the extra window. 7.4 Resources You can start reading about bookdowns from the inventor: https://bookdown.org/yihui/bookdown/ This is pretty advanced and I cant understand a tiny piece of it. Another option is to start a repo and book by copying awesome book from another repo. https://jules32.github.io/bookdown-tutorial/setup.html This tutorial worked to push a book to a standard repo. But there were problem with the doc branch. After I forgot how to start my project or where to find it, I checked: https://happygitwithr.com/rstudio-git-github.html#make-local-changes-save-commit started a new project with my repo link and a new session. This forks or fetches or pulls or downloads the repo. Now I will try to re-upload the minimal change from today. Another personal description can be found here: https://rachaellappan.github.io/bookdown/ This enourmously helped with the understanding of commits and pushs on git: &lt;http://www.differencebetween.net/technology/difference-between-commit-and-push/&gt; git commit -m \"Started book\" I followed the video How to create a bookdown book in 5 minutes: https://www.youtube.com/watch?v=m5D-yoH416Y It did not work. Explaining terminology: https://www.notion.so/zarkom/Introduction-to-Git-ac396a0697704709a12b6a0e545db049 Learn Git in 15 Min: https://www.youtube.com/watch?v=USjZcfj8yxE Learn GitHub in 20 Min: https://www.youtube.com/watch?v=nhNq2kIvi9s https://medium.com/@delucmat/how-to-publish-bookdown-projects-with-github-actions-on-github-pages-6e6aecc7331e https://medium.com/@delucmat/how-to-publish-bookdown-projects-with-github-actions-on-github-pages-6e6aecc7331e I need a _book directory: The .html files (which were compiled from the .Rmd files) are all stored within the _book directory which basically serves as a static website. "],["slope-fields.html", "Chapter 8 Slope Fields 8.1 Definition 8.2 Slope Fields in R 8.3 Understandable Examples 8.4 Initial value problem", " Chapter 8 Slope Fields 8.1 Definition Slope fields (also called direction fields) are a graphical representation of the solutions to a first-order differential equation of a scalar function. Solutions to a slope field are functions drawn as solid curves. A slope field shows the slope of a differential equation at certain vertical and horizontal intervals on the x-y plane, and can be used to determine the approximate tangent slope at a point on a curve, where the curve is some solution to the differential equation. Wikipedia contributors. (2021, May 17). Slope field. In Wikipedia, The Free Encyclopedia. Retrieved 05:51, June 16, 2021, from https://en.wikipedia.org/w/index.php?title=Slope_field&amp;oldid=1023635282 8.2 Slope Fields in R Theres no need to build everything from scratch. This original post https://www.r-bloggers.com/2014/09/generate-slope-fields-in-r-and-python/ has been put into a SlopeField function here https://stackoverflow.com/questions/47984874/how-to-create-a-slope-field-in-r. Show me the code. SlopeField = function(FUN,xi = -5,xs = 5,yi = -5,ys = 5, radius = 0.1, grid.by = 0.25){ # FUN - given function ODE i.e: # xi,xs - lower and upper bound - x - plot # yi,ys - lower and upper bound - y - plot # grid points seqx = seq(xi,xs,grid.by) seqy = seq(yi,ys,grid.by) # plot f = c(xi,xs) h = c(yi,ys) plot(f,h,main=&quot;Slope field&quot;, ylab = &quot;Dependet variable&quot;, xlab = &quot;Independet variable&quot;, pch = &quot;.&quot;) # arrows for(x in seqx){ for(y in seqy){ ym = y xm = x slope = unlist(FUN(x,y)) if(is.na(slope)){ cor = &quot;black&quot; } else if(slope &gt; 0){ cor = &quot;blue&quot; }else if (slope &lt; 0) { cor = &quot;red&quot; }else if(slope == 0) { cor = &quot;green&quot; } arrows(radius*cos(atan(slope)+pi)+xm, radius*sin(atan(slope)+pi)+ym, radius*cos(atan(slope))+xm, radius*sin(atan(slope))+ym, length = 0.2*radius, col= cor) } } } We can specify an ODE in another function and plot its slope field. The suggested example is \\[y&#39;(t) = y^2 - t \\] ode = function(t, y){ dydt &lt;- y^2-t list(dydt) } Lets draw the slope field. SlopeField(ode, xi = -2, xs = 5, yi = -2, ys = 2,radius = 0.1, grid.by = 0.25) The graph looks nice and interesting. But can how can we get the ODE solution from this graph? Can you spot the slip in the code and graph? 8.3 Understandable Examples 8.3.1 y = y Even without a background in differential equations, think about the following: \\[y&#39;(x) = y(x)\\] We are looking for a function \\(y(x)\\) that is identical to its first derivative \\(y&#39;(x)\\). Perhaps you remember such a function from your last math class (analysis). It is the exponential function, that basically does not change by differentiation. \\[y(x) = e^x \\Rightarrow y&#39;(x) = e^x \\] ode_1 = function(t, y){ dydt &lt;- y list(dydt) } SlopeField(ode_1, xi = -2, xs = 5, yi = -2, ys = 2,radius = 0.1, grid.by = 0.25) Can you see something like the exponential function in this slope field? Show me how an exponential function looks like. x_value&lt;-runif(100,2,8) plot(x_value,exp(x_value)) Perhaps you can spot something like the \\(y(x) = e^x\\) in the blue area. But how about the red arrows? Any mirror at the x-axis is also a valid solution to the problem. How do we mirror? Use a factor in front of the e function. This may be negative. \\[y(x) = C \\cdot e^x \\Rightarrow y&#39;(x) = C \\cdot e^x \\] 8.3.2 y = -y Lets give it another try. Which function equals its first derivative (after changing sign). \\[y&#39;(x) = -y(x)\\] It is a sibling of the \\(e^x\\). The solution is \\(y(x) = C \\cdot e^{-x}\\). ode_2 = function(t, y){ dydt &lt;- -y list(dydt) } SlopeField(ode_2, xi = -2, xs = 5, yi = -2, ys = 2,radius = 0.1, grid.by = 0.25) 8.3.3 y = x^2 Wait, theres no more y on the RHS. Dont worry. Thatll make it even easier. What is the integral of \\(x^2\\)? You may expect \\[y&#39;(x) = x^2 \\Rightarrow \\int x^2 dx = 1/3 \\cdot x^3 + C\\] Okay, the general shape is a cubic function. Can you spot a cubic function? ode_3 = function(t, y){ dydt &lt;- t^2 list(dydt) } SlopeField(ode_3, xi = -2, xs = 5, yi = -2, ys = 2,radius = 0.1, grid.by = 0.25) 8.4 Initial value problem Recap, the prior solution was \\(y(x) = 1/3 \\cdot x^3 + C\\). Due to \\(C\\) this is a family of curves. If we specify some of them, thats called the initial value problem. This problem makes is actually even more easy to understand the slope field. Lets add two particular cubic functions for \\(C = 0\\) and \\(C = 0.5\\). SlopeField(ode_3, xi = -2, xs = 5, yi = -2, ys = 2,radius = 0.1, grid.by = 0.25) #lines(y,1/3*x*x*x,col=&quot;red&quot;, lwd=2) #lines(y,1/3*x*x*x+0.5,col=&quot;orange&quot;, lwd=2) Enjoy. Learn. Share. "],["references.html", "References", " References "]]
