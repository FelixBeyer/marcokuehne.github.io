<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Linear Regression | Test</title>
  <meta name="description" content="A guide to become fluent in data." />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Linear Regression | Test" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/warning.png" />
  <meta property="og:description" content="A guide to become fluent in data." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Linear Regression | Test" />
  
  <meta name="twitter:description" content="A guide to become fluent in data." />
  <meta name="twitter:image" content="/images/warning.png" />

<meta name="author" content="Marco" />


<meta name="date" content="2022-09-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/icons8-trading-64.ico" type="image/x-icon" />
<link rel="prev" href="relationships.html"/>
<link rel="next" href="logistic-regression.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet" />
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://marcokuehne.github.io/">Becoming Fluent in Data</a></li> <li><p class="aligncenter"> <img src="images/icons8-trading-64.png"> </p></li>
<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Dust and Dark</a></li>
<li class="part"><span><b>I Preface</b></span></li>
<li class="chapter" data-level="" data-path="teach-learn-repeat.html"><a href="teach-learn-repeat.html"><i class="fa fa-check"></i>Teach – Learn – Repeat</a></li>
<li class="chapter" data-level="" data-path="aim-of-this-books.html"><a href="aim-of-this-books.html"><i class="fa fa-check"></i>Aim of this books</a></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the author</a></li>
<li class="part"><span><b>II Data</b></span></li>
<li class="chapter" data-level="1" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html"><i class="fa fa-check"></i><b>1</b> Data is everywhere</a>
<ul>
<li class="chapter" data-level="1.1" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#why-we-measure"><i class="fa fa-check"></i><b>1.1</b> Why we measure</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#women-are-having-far-fewer-children."><i class="fa fa-check"></i><b>1.1.1</b> Women are having far fewer children.</a></li>
<li class="chapter" data-level="1.1.2" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#global-surface-temperature-is-rising."><i class="fa fa-check"></i><b>1.1.2</b> Global surface temperature is rising.</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#how-we-measure"><i class="fa fa-check"></i><b>1.2</b> How we measure</a></li>
<li class="chapter" data-level="1.3" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#types-of-data"><i class="fa fa-check"></i><b>1.3</b> Types of data</a></li>
<li class="chapter" data-level="1.4" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#the-reality-of-data"><i class="fa fa-check"></i><b>1.4</b> The reality of data</a></li>
<li class="chapter" data-level="1.5" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#data-sources"><i class="fa fa-check"></i><b>1.5</b> Data sources</a></li>
<li class="chapter" data-level="1.6" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#dataset-collections"><i class="fa fa-check"></i><b>1.6</b> Dataset collections</a></li>
<li class="chapter" data-level="1.7" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#open-data"><i class="fa fa-check"></i><b>1.7</b> Open data</a>
<ul>
<li class="chapter" data-level="" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#references"><i class="fa fa-check"></i>References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html"><i class="fa fa-check"></i><b>2</b> Software is everywhere</a>
<ul>
<li class="chapter" data-level="" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html#references-1"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="group-comparison.html"><a href="group-comparison.html"><i class="fa fa-check"></i><b>3</b> Group Comparison</a>
<ul>
<li class="chapter" data-level="3.1" data-path="group-comparison.html"><a href="group-comparison.html#story-telling"><i class="fa fa-check"></i><b>3.1</b> Story Telling</a></li>
<li class="chapter" data-level="3.2" data-path="group-comparison.html"><a href="group-comparison.html#comparability"><i class="fa fa-check"></i><b>3.2</b> Comparability</a></li>
<li class="chapter" data-level="3.3" data-path="group-comparison.html"><a href="group-comparison.html#never-use-pie-charts"><i class="fa fa-check"></i><b>3.3</b> Never use pie charts</a></li>
<li class="chapter" data-level="3.4" data-path="group-comparison.html"><a href="group-comparison.html#application"><i class="fa fa-check"></i><b>3.4</b> Application</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="group-comparison.html"><a href="group-comparison.html#loading-the-data"><i class="fa fa-check"></i><b>3.4.1</b> Loading the data</a></li>
<li class="chapter" data-level="3.4.2" data-path="group-comparison.html"><a href="group-comparison.html#look-into-data"><i class="fa fa-check"></i><b>3.4.2</b> Look into data</a></li>
<li class="chapter" data-level="3.4.3" data-path="group-comparison.html"><a href="group-comparison.html#fly-over-data"><i class="fa fa-check"></i><b>3.4.3</b> Fly over data</a></li>
<li class="chapter" data-level="3.4.4" data-path="group-comparison.html"><a href="group-comparison.html#missing-data"><i class="fa fa-check"></i><b>3.4.4</b> Missing data</a></li>
<li class="chapter" data-level="3.4.5" data-path="group-comparison.html"><a href="group-comparison.html#explore-data"><i class="fa fa-check"></i><b>3.4.5</b> Explore data</a></li>
<li class="chapter" data-level="3.4.6" data-path="group-comparison.html"><a href="group-comparison.html#standardization"><i class="fa fa-check"></i><b>3.4.6</b> Standardization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="mean-comparison.html"><a href="mean-comparison.html"><i class="fa fa-check"></i><b>4</b> Mean Comparison</a>
<ul>
<li class="chapter" data-level="4.1" data-path="mean-comparison.html"><a href="mean-comparison.html#application-1"><i class="fa fa-check"></i><b>4.1</b> Application</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="mean-comparison.html"><a href="mean-comparison.html#data-preparation"><i class="fa fa-check"></i><b>4.1.1</b> Data Preparation</a></li>
<li class="chapter" data-level="4.1.2" data-path="mean-comparison.html"><a href="mean-comparison.html#grouped-mean"><i class="fa fa-check"></i><b>4.1.2</b> Grouped Mean</a></li>
<li class="chapter" data-level="4.1.3" data-path="mean-comparison.html"><a href="mean-comparison.html#furious-with-factors"><i class="fa fa-check"></i><b>4.1.3</b> Furious with Factors</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="mean-comparison.html"><a href="mean-comparison.html#students-t-test"><i class="fa fa-check"></i><b>4.2</b> Student’s t-test</a></li>
<li class="chapter" data-level="4.3" data-path="mean-comparison.html"><a href="mean-comparison.html#plot-with-confidence"><i class="fa fa-check"></i><b>4.3</b> Plot with Confidence</a></li>
<li class="chapter" data-level="4.4" data-path="mean-comparison.html"><a href="mean-comparison.html#independent-t-test"><i class="fa fa-check"></i><b>4.4</b> Independent t-test</a></li>
<li class="chapter" data-level="4.5" data-path="mean-comparison.html"><a href="mean-comparison.html#dependent-t-test"><i class="fa fa-check"></i><b>4.5</b> Dependent t-test</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="panel-data.html"><a href="panel-data.html"><i class="fa fa-check"></i><b>5</b> Panel Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="panel-data.html"><a href="panel-data.html#learning-goals"><i class="fa fa-check"></i><b>5.1</b> Learning Goals</a></li>
<li class="chapter" data-level="5.2" data-path="panel-data.html"><a href="panel-data.html#paneldata"><i class="fa fa-check"></i><b>5.2</b> Paneldata</a></li>
<li class="chapter" data-level="5.3" data-path="panel-data.html"><a href="panel-data.html#data-preparation-1"><i class="fa fa-check"></i><b>5.3</b> Data Preparation</a></li>
<li class="chapter" data-level="5.4" data-path="panel-data.html"><a href="panel-data.html#group-by-person"><i class="fa fa-check"></i><b>5.4</b> Group by person</a></li>
<li class="chapter" data-level="5.5" data-path="panel-data.html"><a href="panel-data.html#data-visualization"><i class="fa fa-check"></i><b>5.5</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="panel-data.html"><a href="panel-data.html#average-health-per-year"><i class="fa fa-check"></i><b>5.5.1</b> Average Health per Year</a></li>
<li class="chapter" data-level="5.5.2" data-path="panel-data.html"><a href="panel-data.html#individual-health-per-year"><i class="fa fa-check"></i><b>5.5.2</b> Individual Health per Year</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="panel-data.html"><a href="panel-data.html#within-and-between-variation"><i class="fa fa-check"></i><b>5.6</b> Within and Between Variation</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="panel-data.html"><a href="panel-data.html#xtsum-from-stata"><i class="fa fa-check"></i><b>5.6.1</b> XTSUM (from Stata)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="text-mining.html"><a href="text-mining.html"><i class="fa fa-check"></i><b>6</b> Text Mining</a>
<ul>
<li class="chapter" data-level="6.1" data-path="text-mining.html"><a href="text-mining.html#learning-goals-1"><i class="fa fa-check"></i><b>6.1</b> Learning Goals</a></li>
<li class="chapter" data-level="6.2" data-path="text-mining.html"><a href="text-mining.html#get-text"><i class="fa fa-check"></i><b>6.2</b> Get Text</a></li>
<li class="chapter" data-level="6.3" data-path="text-mining.html"><a href="text-mining.html#translate-everything-to-english"><i class="fa fa-check"></i><b>6.3</b> Translate Everything To English</a></li>
<li class="chapter" data-level="6.4" data-path="text-mining.html"><a href="text-mining.html#text-analysis"><i class="fa fa-check"></i><b>6.4</b> Text Analysis</a></li>
<li class="chapter" data-level="6.5" data-path="text-mining.html"><a href="text-mining.html#little-bit-of-scraping"><i class="fa fa-check"></i><b>6.5</b> Little bit of Scraping</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="relationships.html"><a href="relationships.html"><i class="fa fa-check"></i><b>7</b> Relationships</a>
<ul>
<li class="chapter" data-level="7.1" data-path="relationships.html"><a href="relationships.html#minimal-example"><i class="fa fa-check"></i><b>7.1</b> Minimal Example</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="relationships.html"><a href="relationships.html#variance"><i class="fa fa-check"></i><b>7.1.1</b> Variance</a></li>
<li class="chapter" data-level="7.1.2" data-path="relationships.html"><a href="relationships.html#variation-around-the-mean"><i class="fa fa-check"></i><b>7.1.2</b> Variation ARound the Mean</a></li>
<li class="chapter" data-level="7.1.3" data-path="relationships.html"><a href="relationships.html#scatterplot"><i class="fa fa-check"></i><b>7.1.3</b> Scatterplot</a></li>
<li class="chapter" data-level="7.1.4" data-path="relationships.html"><a href="relationships.html#covariance"><i class="fa fa-check"></i><b>7.1.4</b> Covariance</a></li>
<li class="chapter" data-level="7.1.5" data-path="relationships.html"><a href="relationships.html#covariance-visualization"><i class="fa fa-check"></i><b>7.1.5</b> Covariance Visualization</a></li>
<li class="chapter" data-level="7.1.6" data-path="relationships.html"><a href="relationships.html#correlation"><i class="fa fa-check"></i><b>7.1.6</b> Correlation</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="relationships.html"><a href="relationships.html#application-2"><i class="fa fa-check"></i><b>7.2</b> Application</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="relationships.html"><a href="relationships.html#one-variable-graphics"><i class="fa fa-check"></i><b>7.2.1</b> One Variable Graphics</a></li>
<li class="chapter" data-level="7.2.2" data-path="relationships.html"><a href="relationships.html#two-variable-graphics"><i class="fa fa-check"></i><b>7.2.2</b> Two Variable Graphics</a></li>
<li class="chapter" data-level="7.2.3" data-path="relationships.html"><a href="relationships.html#correlation-and-regression"><i class="fa fa-check"></i><b>7.2.3</b> Correlation and Regression</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>8</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="8.1" data-path="linear-regression.html"><a href="linear-regression.html#data-inspection"><i class="fa fa-check"></i><b>8.1</b> Data Inspection</a></li>
<li class="chapter" data-level="8.2" data-path="linear-regression.html"><a href="linear-regression.html#data-manipulation-2-pt"><i class="fa fa-check"></i><b>8.2</b> Data Manipulation (2 pt)</a></li>
<li class="chapter" data-level="8.3" data-path="linear-regression.html"><a href="linear-regression.html#data-visualization-2-pt"><i class="fa fa-check"></i><b>8.3</b> Data Visualization (2 pt)</a></li>
<li class="chapter" data-level="8.4" data-path="linear-regression.html"><a href="linear-regression.html#simplest-regression-2-pt"><i class="fa fa-check"></i><b>8.4</b> Simplest Regression (2 pt)</a></li>
<li class="chapter" data-level="8.5" data-path="linear-regression.html"><a href="linear-regression.html#simple-regression"><i class="fa fa-check"></i><b>8.5</b> Simple Regression</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="linear-regression.html"><a href="linear-regression.html#x-is-continuous-1-pt"><i class="fa fa-check"></i><b>8.5.1</b> X is continuous (1 pt)</a></li>
<li class="chapter" data-level="8.5.2" data-path="linear-regression.html"><a href="linear-regression.html#x-is-a-dummy-1-pt"><i class="fa fa-check"></i><b>8.5.2</b> X is a dummy (1 pt)</a></li>
<li class="chapter" data-level="8.5.3" data-path="linear-regression.html"><a href="linear-regression.html#x-is-categorical-1-pt"><i class="fa fa-check"></i><b>8.5.3</b> X is categorical (1 pt)</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="linear-regression.html"><a href="linear-regression.html#parallel-slopes"><i class="fa fa-check"></i><b>8.6</b> Parallel Slopes</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="linear-regression.html"><a href="linear-regression.html#x-is-continuous-dummy-1-pt"><i class="fa fa-check"></i><b>8.6.1</b> X is continuous + dummy (1 pt)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>9</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="9.1" data-path="logistic-regression.html"><a href="logistic-regression.html#logistic-basics"><i class="fa fa-check"></i><b>9.1</b> Logistic basics</a></li>
<li class="chapter" data-level="9.2" data-path="logistic-regression.html"><a href="logistic-regression.html#titanic-survival"><i class="fa fa-check"></i><b>9.2</b> Titanic Survival</a></li>
<li class="chapter" data-level="9.3" data-path="logistic-regression.html"><a href="logistic-regression.html#addons"><i class="fa fa-check"></i><b>9.3</b> Addons</a></li>
<li class="chapter" data-level="9.4" data-path="logistic-regression.html"><a href="logistic-regression.html#motivation"><i class="fa fa-check"></i><b>9.4</b> Motivation</a></li>
<li class="chapter" data-level="9.5" data-path="logistic-regression.html"><a href="logistic-regression.html#load-and-merge"><i class="fa fa-check"></i><b>9.5</b> Load and Merge</a></li>
<li class="chapter" data-level="9.6" data-path="logistic-regression.html"><a href="logistic-regression.html#data-manipulation"><i class="fa fa-check"></i><b>9.6</b> Data Manipulation</a></li>
<li class="chapter" data-level="9.7" data-path="logistic-regression.html"><a href="logistic-regression.html#simple-linear-model"><i class="fa fa-check"></i><b>9.7</b> Simple linear model</a></li>
<li class="chapter" data-level="9.8" data-path="logistic-regression.html"><a href="logistic-regression.html#multiple-regression-with-control"><i class="fa fa-check"></i><b>9.8</b> Multiple regression with control</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="logistic-regression.html"><a href="logistic-regression.html#regression-model"><i class="fa fa-check"></i><b>9.8.1</b> Regression model</a></li>
<li class="chapter" data-level="9.8.2" data-path="logistic-regression.html"><a href="logistic-regression.html#visualization-parallel-slopes"><i class="fa fa-check"></i><b>9.8.2</b> Visualization (parallel slopes)</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="logistic-regression.html"><a href="logistic-regression.html#multiple-regression-with-moderator"><i class="fa fa-check"></i><b>9.9</b> Multiple regression with moderator</a>
<ul>
<li class="chapter" data-level="9.9.1" data-path="logistic-regression.html"><a href="logistic-regression.html#interaction-dummy-dummy"><i class="fa fa-check"></i><b>9.9.1</b> Interaction (dummy * dummy)</a></li>
<li class="chapter" data-level="9.9.2" data-path="logistic-regression.html"><a href="logistic-regression.html#interaction-categorical-dummy"><i class="fa fa-check"></i><b>9.9.2</b> Interaction (categorical * dummy)</a></li>
<li class="chapter" data-level="9.9.3" data-path="logistic-regression.html"><a href="logistic-regression.html#interaction-continuous-dummy"><i class="fa fa-check"></i><b>9.9.3</b> Interaction (continuous * dummy)</a></li>
<li class="chapter" data-level="9.9.4" data-path="logistic-regression.html"><a href="logistic-regression.html#visualization-non-parallel-slopes"><i class="fa fa-check"></i><b>9.9.4</b> Visualization (non-parallel slopes)</a></li>
<li class="chapter" data-level="9.9.5" data-path="logistic-regression.html"><a href="logistic-regression.html#interaction-continuous-continuous"><i class="fa fa-check"></i><b>9.9.5</b> Interaction (continuous * continuous)</a></li>
<li class="chapter" data-level="9.9.6" data-path="logistic-regression.html"><a href="logistic-regression.html#visualization-non-parallel-slopes-1"><i class="fa fa-check"></i><b>9.9.6</b> Visualization (non-parallel slopes)</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="logistic-regression.html"><a href="logistic-regression.html#marginal-effects-1"><i class="fa fa-check"></i><b>9.10</b> Marginal Effects</a>
<ul>
<li class="chapter" data-level="9.10.1" data-path="logistic-regression.html"><a href="logistic-regression.html#marginal-effects-at-representatives-task"><i class="fa fa-check"></i><b>9.10.1</b> Marginal effects at representatives (TASK)</a></li>
<li class="chapter" data-level="9.10.2" data-path="logistic-regression.html"><a href="logistic-regression.html#marginal-effects-at-the-mean-task"><i class="fa fa-check"></i><b>9.10.2</b> Marginal effects at the mean (TASK)</a></li>
<li class="chapter" data-level="9.10.3" data-path="logistic-regression.html"><a href="logistic-regression.html#average-marginal-effects"><i class="fa fa-check"></i><b>9.10.3</b> Average marginal effects</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="fixed-effects.html"><a href="fixed-effects.html"><i class="fa fa-check"></i><b>10</b> Fixed effects</a>
<ul>
<li class="chapter" data-level="10.1" data-path="fixed-effects.html"><a href="fixed-effects.html#cross-sectional-data-2-pt"><i class="fa fa-check"></i><b>10.1</b> Cross-sectional Data (2 pt)</a></li>
<li class="chapter" data-level="10.2" data-path="fixed-effects.html"><a href="fixed-effects.html#panel-data-2-pt"><i class="fa fa-check"></i><b>10.2</b> Panel Data (2 pt)</a></li>
<li class="chapter" data-level="10.3" data-path="fixed-effects.html"><a href="fixed-effects.html#fixed-effects-regression"><i class="fa fa-check"></i><b>10.3</b> Fixed Effects Regression</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="fixed-effects.html"><a href="fixed-effects.html#first-difference-2-pt"><i class="fa fa-check"></i><b>10.3.1</b> First Difference (2 pt)</a></li>
<li class="chapter" data-level="10.3.2" data-path="fixed-effects.html"><a href="fixed-effects.html#within-estimator-2-pt"><i class="fa fa-check"></i><b>10.3.2</b> Within Estimator (2 pt)</a></li>
<li class="chapter" data-level="10.3.3" data-path="fixed-effects.html"><a href="fixed-effects.html#lsdv-1-pt"><i class="fa fa-check"></i><b>10.3.3</b> LSDV (1 pt)</a></li>
<li class="chapter" data-level="10.3.4" data-path="fixed-effects.html"><a href="fixed-effects.html#comparison-1-pt"><i class="fa fa-check"></i><b>10.3.4</b> Comparison (1 pt)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="mincer-earnings-function.html"><a href="mincer-earnings-function.html"><i class="fa fa-check"></i><b>11</b> Mincer earnings function</a>
<ul>
<li class="chapter" data-level="11.1" data-path="mincer-earnings-function.html"><a href="mincer-earnings-function.html#data-management-4-pt"><i class="fa fa-check"></i><b>11.1</b> Data Management (4 pt)</a></li>
<li class="chapter" data-level="11.2" data-path="mincer-earnings-function.html"><a href="mincer-earnings-function.html#data-visualization-2-pt-1"><i class="fa fa-check"></i><b>11.2</b> Data Visualization (2 pt)</a></li>
<li class="chapter" data-level="11.3" data-path="mincer-earnings-function.html"><a href="mincer-earnings-function.html#data-modeling-2-pt"><i class="fa fa-check"></i><b>11.3</b> Data Modeling (2 pt)</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="minimal-example-2-pt.html"><a href="minimal-example-2-pt.html"><i class="fa fa-check"></i><b>12</b> Minimal Example (2 pt)</a></li>
<li class="chapter" data-level="13" data-path="references-2.html"><a href="references-2.html"><i class="fa fa-check"></i><b>13</b> References</a></li>
<li class="chapter" data-level="" data-path="references-3.html"><a href="references-3.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="http://marco-kuehne.com/" target="blank">Visit my personal page</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Test</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div class = rmdreview>
This book is <b>Work in Progress</b>. I appreciate your feedback to make the book better.
</div>
<div id="linear-regression" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Chapter 8</span> Linear Regression<a href="linear-regression.html#linear-regression" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Please create a R markdown script and name it <code>R08_name.Rmd</code> replacing <code>name</code> by your name. Follow the structure of this document.</p>
<ul>
<li>Start each section with the appropriate heading by using a hashtag as first symbol.</li>
<li>The final <code>R08_name.html</code> document is supposed to show code and its result.</li>
<li>Hide warnings and messages. Make it clean and concise.</li>
</ul>
<p>When you are done, knit your document in order to create a HTML file. Name it <code>R08_name.html</code> replacing name by your name. Upload <code>R08_name.Rmd</code> and <code>R08_name.html</code>.</p>
<div id="data-inspection" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Data Inspection<a href="linear-regression.html#data-inspection" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Load <code>soep.dta</code> file from our learning management platform.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="linear-regression.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb76-2"><a href="linear-regression.html#cb76-2" aria-hidden="true" tabindex="-1"></a>master <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">&quot;data/master.dta&quot;</span>)</span></code></pre></div>
<!-- Use `SOEPhelp` to find useful variables (only very few variables have speaking labels, e.g. `height`). -->
<p>Inspect the data with <code>glimpse</code>() in the console. Are there any missing? Ask <code>table(is.na(master))</code>.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="linear-regression.html#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb77-2"><a href="linear-regression.html#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(master)</span>
<span id="cb77-3"><a href="linear-regression.html#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Rows: 336,646</span></span>
<span id="cb77-4"><a href="linear-regression.html#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Columns: 8</span></span>
<span id="cb77-5"><a href="linear-regression.html#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ pid        &lt;dbl&gt; 100001, 100001, 100001, 100001, 100001, 100001, 100001, 100…</span></span>
<span id="cb77-6"><a href="linear-regression.html#cb77-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ syear      &lt;dbl&gt; 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,…</span></span>
<span id="cb77-7"><a href="linear-regression.html#cb77-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ pla0009_v2 &lt;dbl+lbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span></span>
<span id="cb77-8"><a href="linear-regression.html#cb77-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ ple0010_h  &lt;dbl+lbl&gt; 1936, 1936, 1936, 1936, 1936, 1936, 1936, 1936, 1936, 1…</span></span>
<span id="cb77-9"><a href="linear-regression.html#cb77-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ height     &lt;dbl&gt; -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8,…</span></span>
<span id="cb77-10"><a href="linear-regression.html#cb77-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ weight     &lt;dbl&gt; -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8,…</span></span>
<span id="cb77-11"><a href="linear-regression.html#cb77-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ l11101     &lt;dbl+lbl&gt; 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4…</span></span>
<span id="cb77-12"><a href="linear-regression.html#cb77-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ l11102     &lt;dbl+lbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span></span></code></pre></div>
</div>
<div id="data-manipulation-2-pt" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Data Manipulation (2 pt)<a href="linear-regression.html#data-manipulation-2-pt" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Please do the following:</p>
<ul>
<li>Filter for positive values in <code>height</code> and <code>weight</code>.</li>
<li>Filter for the <code>year</code> equal to 2016.</li>
<li>Create a variable <code>female</code> which is 1 for females and 0 for males (i.e. dummy variable).</li>
<li>Create a variable <code>age</code> as a difference of current survey year and birth year.</li>
<li>Rename the state and region variable (use <code>state</code> and <code>region</code> instead of SOEP code).</li>
</ul>
<p>Hint: Check <a href="https://paneldata.org/" class="uri">https://paneldata.org/</a> for the meaning of <code>pla0009_v2</code>, <code>ple0010_h</code>, <code>l11101</code> and <code>l11102</code>.</p>
<p>Only keep the 8 variables you see in via the <code>glimpse()</code> function. Your <code>soep</code> sample should exactly look like this:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="linear-regression.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb78-2"><a href="linear-regression.html#cb78-2" aria-hidden="true" tabindex="-1"></a>soep <span class="ot">&lt;-</span> master <span class="sc">%&gt;%</span></span>
<span id="cb78-3"><a href="linear-regression.html#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(height <span class="sc">&gt;</span> <span class="dv">0</span>, weight <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-4"><a href="linear-regression.html#cb78-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(syear <span class="sc">==</span> <span class="dv">2016</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-5"><a href="linear-regression.html#cb78-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">female =</span> <span class="fu">as_factor</span>(<span class="fu">ifelse</span>(pla0009_v2 <span class="sc">==</span> <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb78-6"><a href="linear-regression.html#cb78-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age =</span> <span class="dv">2016</span> <span class="sc">-</span> ple0010_h) <span class="sc">%&gt;%</span></span>
<span id="cb78-7"><a href="linear-regression.html#cb78-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">state =</span> l11101,</span>
<span id="cb78-8"><a href="linear-regression.html#cb78-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">region =</span> l11102) <span class="sc">%&gt;%</span></span>
<span id="cb78-9"><a href="linear-regression.html#cb78-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(<span class="st">&quot;ple0010_h&quot;</span>, <span class="st">&quot;pla0009_v2&quot;</span>))</span></code></pre></div>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="linear-regression.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(soep)</span>
<span id="cb79-2"><a href="linear-regression.html#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Rows: 12,039</span></span>
<span id="cb79-3"><a href="linear-regression.html#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Columns: 8</span></span>
<span id="cb79-4"><a href="linear-regression.html#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ pid    &lt;dbl&gt; 1000203, 1000902, 1003602, 1003702, 1003705, 1003706, 1004202, …</span></span>
<span id="cb79-5"><a href="linear-regression.html#cb79-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ syear  &lt;dbl&gt; 2016, 2016, 2016, 2016, 2016, 2016, 2016, 2016, 2016, 2016, 201…</span></span>
<span id="cb79-6"><a href="linear-regression.html#cb79-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ height &lt;dbl&gt; 176, 167, 172, 163, 169, 180, 175, 194, 185, 167, 166, 170, 170…</span></span>
<span id="cb79-7"><a href="linear-regression.html#cb79-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ weight &lt;dbl&gt; 80, 57, 78, 68, 80, 65, 64, 95, 84, 54, 68, 75, 60, 83, 66, 67,…</span></span>
<span id="cb79-8"><a href="linear-regression.html#cb79-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ state  &lt;dbl+lbl&gt;  3,  1,  3,  5,  5,  5,  8,  8,  5,  5,  8,  9,  9,  9,  3,…</span></span>
<span id="cb79-9"><a href="linear-regression.html#cb79-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ region &lt;dbl+lbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…</span></span>
<span id="cb79-10"><a href="linear-regression.html#cb79-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ female &lt;fct&gt; 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 0, 1, 1, 0, 0, 1, 1, 1, …</span></span>
<span id="cb79-11"><a href="linear-regression.html#cb79-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ age    &lt;dbl&gt; 47, 37, 47, 51, 39, 19, 46, 18, 45, 53, 46, 42, 39, 18, 46, 53,…</span></span></code></pre></div>
</div>
<div id="data-visualization-2-pt" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Data Visualization (2 pt)<a href="linear-regression.html#data-visualization-2-pt" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Please create a scatterplot of weight by height (both numeric/continuous variables) colored by gender. Add one linear regression line per gender (a regression per subgroup).</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="linear-regression.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb80-2"><a href="linear-regression.html#cb80-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-3"><a href="linear-regression.html#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Scatterplot (2 numeric/continuous variables by 1 categorical/group)</span></span>
<span id="cb80-4"><a href="linear-regression.html#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="co"># This is like two scatterplots drawn in one graph.</span></span>
<span id="cb80-5"><a href="linear-regression.html#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(soep, <span class="fu">aes</span>(<span class="at">x=</span>height, <span class="at">y=</span>weight, <span class="at">color=</span>female)) <span class="sc">+</span></span>
<span id="cb80-6"><a href="linear-regression.html#cb80-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb80-7"><a href="linear-regression.html#cb80-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group=</span>female), <span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">size=</span><span class="dv">2</span>, <span class="at">se=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb80-8"><a href="linear-regression.html#cb80-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;A scatterplot of two continuous variables.&quot;</span>,</span>
<span id="cb80-9"><a href="linear-regression.html#cb80-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Independent regression line for each group.&quot;</span>)</span></code></pre></div>
<p><img src="Becoming-Fluent-In-Data_files/figure-html/unnamed-chunk-102-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>The relationship looks slightly different. The line is flatter for females. Female data seems to be clustered at the lower left, whereas males are on average at the upper right part of the data cloud.</p>
<p>Please create a scatterplot of weight by height and depict each group in a single graph (side-by-side).</p>
<p><img src="Becoming-Fluent-In-Data_files/figure-html/unnamed-chunk-103-1.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="simplest-regression-2-pt" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Simplest Regression (2 pt)<a href="linear-regression.html#simplest-regression-2-pt" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The simplest regression or empty model does not contain any explanatory variable.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="linear-regression.html#cb81-1" aria-hidden="true" tabindex="-1"></a>simplest <span class="ot">&lt;-</span> <span class="fu">lm</span>(weight <span class="sc">~</span> <span class="dv">1</span>, <span class="at">data=</span>soep)</span>
<span id="cb81-2"><a href="linear-regression.html#cb81-2" aria-hidden="true" tabindex="-1"></a>simplest</span>
<span id="cb81-3"><a href="linear-regression.html#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb81-4"><a href="linear-regression.html#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:</span></span>
<span id="cb81-5"><a href="linear-regression.html#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; lm(formula = weight ~ 1, data = soep)</span></span>
<span id="cb81-6"><a href="linear-regression.html#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb81-7"><a href="linear-regression.html#cb81-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb81-8"><a href="linear-regression.html#cb81-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)  </span></span>
<span id="cb81-9"><a href="linear-regression.html#cb81-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       77.84</span></span></code></pre></div>
<!-- mean(soep$weight) -->
<p>Please create the graphs below. With help help of package <code>gridExtra</code> the <code>grid.arrange()</code> function can do the job. The left panel shows the grand mean (red) for all observations. The second panel shows the grand mean (this time black) as well as the two group means by gender (red and blue).</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="linear-regression.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(gridExtra)</span>
<span id="cb82-2"><a href="linear-regression.html#cb82-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-3"><a href="linear-regression.html#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot overall intercept</span></span>
<span id="cb82-4"><a href="linear-regression.html#cb82-4" aria-hidden="true" tabindex="-1"></a>plot1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb82-5"><a href="linear-regression.html#cb82-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data=</span>soep, <span class="fu">aes</span>(<span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(soep), <span class="at">y=</span>weight)) <span class="sc">+</span></span>
<span id="cb82-6"><a href="linear-regression.html#cb82-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(soep<span class="sc">$</span>weight), <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb82-7"><a href="linear-regression.html#cb82-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Intercept model of weight&quot;</span>, <span class="at">caption=</span><span class="st">&quot;SOEP Teaching Sample v36&quot;</span>)</span>
<span id="cb82-8"><a href="linear-regression.html#cb82-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-9"><a href="linear-regression.html#cb82-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot intercept by group</span></span>
<span id="cb82-10"><a href="linear-regression.html#cb82-10" aria-hidden="true" tabindex="-1"></a>means_by_gender <span class="ot">&lt;-</span> soep <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(female) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">mean_weight =</span> <span class="fu">mean</span>(weight))</span>
<span id="cb82-11"><a href="linear-regression.html#cb82-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-12"><a href="linear-regression.html#cb82-12" aria-hidden="true" tabindex="-1"></a>plot2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span>soep, <span class="fu">aes</span>(<span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(soep), <span class="at">y=</span>weight, <span class="at">color=</span>female)) <span class="sc">+</span></span>
<span id="cb82-13"><a href="linear-regression.html#cb82-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb82-14"><a href="linear-regression.html#cb82-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(soep<span class="sc">$</span>weight), <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb82-15"><a href="linear-regression.html#cb82-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> means_by_gender, <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_weight, <span class="at">col =</span> female), <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb82-16"><a href="linear-regression.html#cb82-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Intercept model of weight&quot;</span>, <span class="at">subtitle=</span><span class="st">&quot;Grand mean (black) and group means&quot;</span>,</span>
<span id="cb82-17"><a href="linear-regression.html#cb82-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span><span class="st">&quot;SOEP Teaching Sample v36&quot;</span>)</span>
<span id="cb82-18"><a href="linear-regression.html#cb82-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-19"><a href="linear-regression.html#cb82-19" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(plot1, plot2, <span class="at">ncol=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="Becoming-Fluent-In-Data_files/figure-html/unnamed-chunk-105-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="simple-regression" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Simple Regression<a href="linear-regression.html#simple-regression" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="x-is-continuous-1-pt" class="section level3 hasAnchor" number="8.5.1">
<h3><span class="header-section-number">8.5.1</span> X is continuous (1 pt)<a href="linear-regression.html#x-is-continuous-1-pt" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="linear-regression.html#cb83-1" aria-hidden="true" tabindex="-1"></a>simple1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(weight <span class="sc">~</span> height, <span class="at">data=</span>soep)</span>
<span id="cb83-2"><a href="linear-regression.html#cb83-2" aria-hidden="true" tabindex="-1"></a>simple1</span>
<span id="cb83-3"><a href="linear-regression.html#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb83-4"><a href="linear-regression.html#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:</span></span>
<span id="cb83-5"><a href="linear-regression.html#cb83-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; lm(formula = weight ~ height, data = soep)</span></span>
<span id="cb83-6"><a href="linear-regression.html#cb83-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb83-7"><a href="linear-regression.html#cb83-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb83-8"><a href="linear-regression.html#cb83-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)       height  </span></span>
<span id="cb83-9"><a href="linear-regression.html#cb83-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    -81.6539       0.9289</span></span></code></pre></div>
<p>Marco is approximately 1.85m tall. Please calculate his expected weight in kg according to model <code>simple1</code>. Hint: Please access and use the model components like <code>coefficients</code> as in <code>simple1$coefficients</code> in order to solve the task.</p>
<p><code>simple1$coefficients[1] + simple1$coefficients[2] * 185 = 82.50118</code></p>
</div>
<div id="x-is-a-dummy-1-pt" class="section level3 hasAnchor" number="8.5.2">
<h3><span class="header-section-number">8.5.2</span> X is a dummy (1 pt)<a href="linear-regression.html#x-is-a-dummy-1-pt" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="linear-regression.html#cb84-1" aria-hidden="true" tabindex="-1"></a>simple2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(weight <span class="sc">~</span> female, <span class="at">data=</span>soep)</span>
<span id="cb84-2"><a href="linear-regression.html#cb84-2" aria-hidden="true" tabindex="-1"></a>simple2</span>
<span id="cb84-3"><a href="linear-regression.html#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb84-4"><a href="linear-regression.html#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:</span></span>
<span id="cb84-5"><a href="linear-regression.html#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; lm(formula = weight ~ female, data = soep)</span></span>
<span id="cb84-6"><a href="linear-regression.html#cb84-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb84-7"><a href="linear-regression.html#cb84-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb84-8"><a href="linear-regression.html#cb84-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)      female1  </span></span>
<span id="cb84-9"><a href="linear-regression.html#cb84-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       85.86       -14.94</span></span></code></pre></div>
<p>Marco is male. Please calculate his expected weight in kg according to model <code>simple2</code>. Hint: Please access and use the model components like <code>coefficients</code> as in <code>simple2$coefficients</code> in order to solve the task.</p>
<p><code>simple2$coefficients[1] = 85.85999</code></p>
</div>
<div id="x-is-categorical-1-pt" class="section level3 hasAnchor" number="8.5.3">
<h3><span class="header-section-number">8.5.3</span> X is categorical (1 pt)<a href="linear-regression.html#x-is-categorical-1-pt" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- https://moderndive.com/6-multiple-regression.html#model4interactiontable -->
<p>Select all states in East Germany. Filter the <code>region</code> variable appropriately. Store the new data as <code>east</code>.</p>
<p>Variable <code>state</code> contains all 16 states of Germany. Whereas <code>female</code> is already recognized as a factor variable (<code>fct</code>), state is classified as a double with labels (<code>dbl+lbl</code>), i.e. R assumes <code>state</code> is a continuous variable between 1 and 16.</p>
<p>Convert <code>state</code> to factor. Use <code>mutate</code> and <code>as_factor</code> on the <code>state</code> variable. Set the levels of this factor variable to official state abbreviations, i.e. <code>"BE", "BB", "MV", "SN", "ST", "TH"</code> by setting <code>levels(east$state)</code> equal to the list of abbreviations.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="linear-regression.html#cb85-1" aria-hidden="true" tabindex="-1"></a>east <span class="ot">&lt;-</span> soep <span class="sc">%&gt;%</span></span>
<span id="cb85-2"><a href="linear-regression.html#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(region <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-3"><a href="linear-regression.html#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">state =</span> <span class="fu">as_factor</span>(state))</span>
<span id="cb85-4"><a href="linear-regression.html#cb85-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-5"><a href="linear-regression.html#cb85-5" aria-hidden="true" tabindex="-1"></a>east<span class="sc">$</span>state <span class="ot">&lt;-</span> <span class="fu">factor</span>(east<span class="sc">$</span>state)</span>
<span id="cb85-6"><a href="linear-regression.html#cb85-6" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(east<span class="sc">$</span>state) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;BE&quot;</span>, <span class="st">&quot;BB&quot;</span>, <span class="st">&quot;MV&quot;</span>, <span class="st">&quot;SN&quot;</span>, <span class="st">&quot;ST&quot;</span>, <span class="st">&quot;TH&quot;</span>)</span></code></pre></div>
<p>Run regression with categorical variable <code>state</code> on the <code>east</code> sample. The output should look like this:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="linear-regression.html#cb86-1" aria-hidden="true" tabindex="-1"></a>simple3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(weight <span class="sc">~</span> state, <span class="at">data=</span>east)</span>
<span id="cb86-2"><a href="linear-regression.html#cb86-2" aria-hidden="true" tabindex="-1"></a>simple3</span>
<span id="cb86-3"><a href="linear-regression.html#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb86-4"><a href="linear-regression.html#cb86-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:</span></span>
<span id="cb86-5"><a href="linear-regression.html#cb86-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; lm(formula = weight ~ state, data = east)</span></span>
<span id="cb86-6"><a href="linear-regression.html#cb86-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb86-7"><a href="linear-regression.html#cb86-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb86-8"><a href="linear-regression.html#cb86-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)      stateBB      stateMV      stateSN      stateST      stateTH  </span></span>
<span id="cb86-9"><a href="linear-regression.html#cb86-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      74.741        4.641        2.871        3.195        3.459        2.675</span></span></code></pre></div>
</div>
</div>
<div id="parallel-slopes" class="section level2 hasAnchor" number="8.6">
<h2><span class="header-section-number">8.6</span> Parallel Slopes<a href="linear-regression.html#parallel-slopes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="x-is-continuous-dummy-1-pt" class="section level3 hasAnchor" number="8.6.1">
<h3><span class="header-section-number">8.6.1</span> X is continuous + dummy (1 pt)<a href="linear-regression.html#x-is-continuous-dummy-1-pt" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Please replicate the following plot.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="linear-regression.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot Parallel Slopes Model by Package</span></span>
<span id="cb87-2"><a href="linear-regression.html#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(moderndive)</span>
<span id="cb87-3"><a href="linear-regression.html#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(soep, <span class="fu">aes</span>(<span class="at">x=</span>height, <span class="at">y=</span>weight, <span class="at">color=</span>female)) <span class="sc">+</span></span>
<span id="cb87-4"><a href="linear-regression.html#cb87-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb87-5"><a href="linear-regression.html#cb87-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_parallel_slopes</span>(<span class="at">se=</span><span class="cn">FALSE</span>, <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb87-6"><a href="linear-regression.html#cb87-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">&quot;Scatter plot of weight by height with parallel slopes&quot;</span>,</span>
<span id="cb87-7"><a href="linear-regression.html#cb87-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span><span class="st">&quot;SOEP Teaching Sample v36&quot;</span>)</span></code></pre></div>
<p><img src="Becoming-Fluent-In-Data_files/figure-html/unnamed-chunk-111-1.png" width="576" /></p>
<p>Bonus. Marco is male and about 185cm.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="linear-regression.html#cb88-1" aria-hidden="true" tabindex="-1"></a>parallel1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(weight <span class="sc">~</span> height <span class="sc">+</span> female, <span class="at">data=</span>soep)</span>
<span id="cb88-2"><a href="linear-regression.html#cb88-2" aria-hidden="true" tabindex="-1"></a>parallel1</span>
<span id="cb88-3"><a href="linear-regression.html#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb88-4"><a href="linear-regression.html#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:</span></span>
<span id="cb88-5"><a href="linear-regression.html#cb88-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; lm(formula = weight ~ height + female, data = soep)</span></span>
<span id="cb88-6"><a href="linear-regression.html#cb88-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb88-7"><a href="linear-regression.html#cb88-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb88-8"><a href="linear-regression.html#cb88-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)       height      female1  </span></span>
<span id="cb88-9"><a href="linear-regression.html#cb88-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    -45.6633       0.7363      -5.4463</span></span></code></pre></div>
<p>Please calculate his expected weight in kg according to model <code>parallel1</code>. Please access and use the model components like <code>coefficients</code> as in <code>parallel1$coefficients</code> in order to solve the task.</p>
<p><code>parallel1$coefficients[1] + 185 * parallel1$coefficients[2] = 90.55837</code></p>

</div>
</div>
</div>
<div id="disqus_thread"></div>
<script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://https-marcokuehne-github-io.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </section>

          </div>
        </div>
      </div>
<a href="relationships.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="logistic-regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Becoming Fluent In Data.pdf", "Becoming Fluent In Data.epub"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": false
},
"toc_depth": 1,
"toc-title": "Table of Contents",
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
